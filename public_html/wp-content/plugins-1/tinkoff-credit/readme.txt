=== Tinkoff Credit for WooCommerce ===
Contributors: makspostal, skywebsite
Tags: e-commerce, store, sales, sell, woo, shop, cart, checkout, payments, woo commerce, woocommerce, tinkoff, credit, bank, bank gateway
Requires at least: 5.2
Tested up to: 5.6
Requires PHP: 7.0
Stable tag: 1.2.0
License: GPLv3
License URI: https://www.gnu.org/licenses/gpl-3.0.html

== Description ==

Tinkoff Credit (Тинькофф Кредит) - плагин выводит кнопку "Купи в кредит" от Тинькофф Банк на страницах WooCommerce.

Информация об оформленном кредите (рассрочке) не отображается в заказах WooCommerce, только в личном кабинете банка.

**Возможности:**
* Варианты вывода кнопки:
    - на страницах отдельных товаров;
    - на странице корзины;
    - на странице оформления заказа;
    - и на страницах со списком товаров (страница магазина, страницы категорий и меток товаров, а также страница результатов поиска).
* Настройка места вывода кнопки на страницах корзины и оформления заказа.
* Возможность вывода только кнопки кредита, только кнопок рассрочки или всех кнопок.
* Изменение названия кнопок кредита и рассрочек.
* Открытие страницы оформления кредита/рассрочки в новом или в том же окне.
* Отображение лэйбла на страницах со списком товаров и настройка текста лэйбла.
* Поддержка купона типа "Процент скидки".
* Поддержка вариативных товаров WooCommerce.

[Описание и подключение услуги на сайте Тинькофф Банк](https://www.tinkoff.ru/business/loans/)

[Инструкция по интеграции с Tinkoff Credit](https://tinkoff.loans/api/v1/static/documents/templates/online/Lightweight_Integration_Guide.pdf)

== Frequently Asked Questions ==

1. Кнопка отображается только если стоимость товара (или сумма товаров в корзине/на странице оформления заказа) равна или больше 3000 руб.
2. На странице отдельного товара, кнопка отображается, если сумма (количество*стоимость) больше 3000 руб и скрывается в противном случае.
3. Плагин поддерживает работу только с одним активным купоном в корзине. И типа купона "Процент скидки".
4. При использовании купона и копеек, общая сумма заказа может немного отличаться от суммы заказа в WooCommerce.
5. Для стилизации кнопки "Купи в кредит" используйте CSS класс `tinkoff_credit_submit`.
6. Для стилизации лэйбла "Доступно в кредит" используйте CSS класс `tinkoff_credit_label`.

== Installation ==

Установите плагин через панель администратора WordPress.

1. Для работы плагина необходимо наличие установленного и активированного плагина WooCommerce.
2. Настройки плагина находятся в меню: `WooCommerce -> Настройки -> Tinkoff Credit`.
3. Если **Shop ID** магазина не указан, то плагин работает в тестовом режиме.
4. После того, как вы проверили плагин в тестовом режиме (СМС-пароль 1111), вы можете связаться со своим менеджером Тинькофф Банк
для получения реальных **Shop ID** и **Shop Case ID**.
5. После указания **Shop ID** и **Shop Case ID** в настройках плагина и сохранения настроек, плагин начнёт работу в боевом режиме.
6. Поле промокода заполняется в случае, если на товар распространяются акции (например, рассрочки). Подробности уточняйте у персонального менеджера Тинькофф.
7. В поле 'Планы рассрочки' указываются сроки рассрочки через запятую. Кнопки рассрочки выводятся рядом с кнопкой кредита.
8. Если поля промокода и планов рассрочки не заполнены, то отображается только кнопка 'Купить в кредит'.

== Changelog ==

= 1.2.0 =
* Изменение названия кнопки промоакции работает и без указания месяцев.
* Опция показа только кнопок промоакции работает и без указания месяцев.

= 1.1.9 =
* Удаление настроек плагина при удалении самого плагина.

= 1.1.8 =
* Исправление ошибок и оптимизация кода.

= 1.1.7 =
* Поддержка вариативных товаров на страницах отдельных товаров.
* Скрытие кнопки кредита и отображение только кнопок рассрочки.
* Ручное/автоматическое задание названий кнопок рассрочки.
* Отображение кнопки на страницах отдельных товаров, если сумма (количество*стоимость) больше 3000 руб. и скрытие в противном случае.
* Проверка совместимости с новой версией WordPress.
* Оптимизация кода.

= 1.1.6 =
* Оптимизация кода.

= 1.1.5 =
* Добавлен лэйбл "Доступно в кредит" в списках товаров.
* Добавлено поле промокода и возможность добавления нескольких рассрочек.
* Оптимизация кода, небольшие улучшения, исправления багов и проверка совместимости с WordPress 5.4.1 и WooCommerce 4.2.0.

= 1.1.4 =
* Проверка совместимости с новой версией WordPress.

= 1.1.3 =
* Исправления перевода.

= 1.1.2 =
* Переписан код плагина.
* Устранено несколько мелких багов (начальная настройка расположения кнопки на странице оформления заказа и обновление количества товаров в корзине после её обновления).
* Добавлена опция отображения кнопки на страницах списка товаров (страница магазина, страницы категорий и меток товаров, а также на странице результатов поиска).

= 1.1.1 =
* Исправлена проблема с локализацией плагина.

= 1.1.0 =
* Добавлена поддержка мультиязычности. Для перевода плагина используйте Loco Translate, аналоги или https://translate.wordpress.org/projects/wp-plugins/tinkoff-credit/
* Добавлена возможность открытия страницы оформления кредита в новом окне (на новой вкладке) браузера.
* Добавлены варианты размещения кнопки на странице корзины.
* Добавлена кнопка на страницу оформления заказа.

= 1.0.9 =
* Исправлены проблемы с совместимостью.
* Исправлена ошибка со стоимостью товара (корзины) равной 3000 руб.

= 1.0.8 =
* Исправлены проблемы с безопасностью.
* Исправлена проблема с округлением цен в корзине при применении купона.

= 1.0.7 =
* Оптимизация кода.
* Добавлено отображение кнопок по-умолчанию на страницах отдельного товара и корзины, сразу после установки и активации плагина.
* Добавлен CSS класс `tinkoff_credit_submit` к кнопке.
* Исправлены небольшие ошибки.
* Плагин теперь работает как с целыми так и с дробными ценами (копейками).
* Добавлена настройка выбора расположения кнопки на странице корзины. По-умолчанию кнопка располагается под таблицей товаров.

= 1.0.6 =
* Добавлена работа с купонами. Работа плагина тестировалась только с купонами типа "Процент скидки" и ограничением "Минимальный расход".
* Кнопка плагина на странице корзины, перенесена под список товаров.
* Незначительные изменения кода.

= 1.0.5 =
* Добавлена возможность переименования кнопки.
* Добавлено отображение кнопки на странице корзины.
* Добавлена возможность скрывать кнопку на страницах отдельных товаров и/или на странице корзины.

== Screenshots ==
1. Страница товара (тема Storefront)
2. Главная страница магазина (тема Storefront)
3. Корзина (тема Storefront)
4. Оформление заказа (тема Storefront)
5. Настройки
6. Оформление заявки на кредит